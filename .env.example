# =============================================================================
# Sistema de Nómina - Variables de Entorno
# =============================================================================
# Copiar este archivo a .env y configurar los valores apropiados.
# IMPORTANTE: Los valores marcados con [CAMBIAR EN PRODUCCIÓN] DEBEN ser
# modificados antes de desplegar en un entorno de producción.
# =============================================================================

# -----------------------------------------------------------------------------
# Base de Datos PostgreSQL
# -----------------------------------------------------------------------------
DB_USER=nomina
DB_PASSWORD=nomina123                    # [CAMBIAR EN PRODUCCIÓN]
DB_NAME=nomina_db

# -----------------------------------------------------------------------------
# Redis (Colas de procesamiento asíncrono)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=                          # [CAMBIAR EN PRODUCCIÓN] Dejar vacío para dev
REDIS_DB=0

# -----------------------------------------------------------------------------
# Autenticación JWT
# -----------------------------------------------------------------------------
# Clave secreta para firmar tokens JWT
# IMPORTANTE: Generar una clave única y segura en producción (mínimo 32 caracteres)
# Ejemplo: openssl rand -base64 32
JWT_SECRET=tu-clave-secreta-super-segura-cambiar-en-produccion    # [CAMBIAR EN PRODUCCIÓN]
JWT_EXPIRES_IN=24h

# -----------------------------------------------------------------------------
# Cifrado de Datos Sensibles
# -----------------------------------------------------------------------------
# Clave para cifrar datos sensibles (RFC, CURP, información bancaria)
# IMPORTANTE: Generar una clave única y segura en producción (mínimo 32 caracteres)
# Ejemplo: openssl rand -base64 32
ENCRYPTION_KEY=generate-secure-key-min-32-chars    # [CAMBIAR EN PRODUCCIÓN]

# -----------------------------------------------------------------------------
# Storage de Evidencias Fiscales
# -----------------------------------------------------------------------------
# Ruta donde se almacenan los documentos fiscales (XML, PDF, acuses)
# En Docker, usar: /app/storage/fiscal
FISCAL_STORAGE_PATH=/app/storage/fiscal

# -----------------------------------------------------------------------------
# Frontend URL (CORS)
# -----------------------------------------------------------------------------
# URL del frontend para configuración de CORS
# Desarrollo: http://localhost:5173
# Producción: https://tu-dominio.com
FRONTEND_URL=http://localhost

# -----------------------------------------------------------------------------
# PAC (Proveedor Autorizado de Certificación) - Timbrado CFDI
# -----------------------------------------------------------------------------
# URL del servicio del PAC
# Ejemplos:
#   Finkok Sandbox: https://demo-facturacion.finkok.com
#   Finkok Producción: https://facturacion.finkok.com
PAC_URL=https://demo-facturacion.finkok.com
PAC_USER=usuario_pac
PAC_PASSWORD=password_pac                # [CAMBIAR EN PRODUCCIÓN]

# -----------------------------------------------------------------------------
# Certificados de Sello Digital (CSD)
# -----------------------------------------------------------------------------
# Rutas a los archivos del certificado de sello digital
# Estos archivos deben montarse como volúmenes o copiarse al contenedor
CER_PATH=./certs/certificado.cer
KEY_PATH=./certs/llave.key
KEY_PASSWORD=password_certificado        # [CAMBIAR EN PRODUCCIÓN]

# -----------------------------------------------------------------------------
# Modo de Cola de Procesamiento
# -----------------------------------------------------------------------------
# sync: Procesamiento síncrono (desarrollo, sistemas pequeños)
# async: Procesamiento asíncrono con Redis/Bull (producción, alto volumen)
QUEUE_MODE=async

# -----------------------------------------------------------------------------
# Worker de Procesamiento (Enterprise)
# -----------------------------------------------------------------------------
# Número de trabajos concurrentes que puede procesar el worker
WORKER_CONCURRENCY=3
